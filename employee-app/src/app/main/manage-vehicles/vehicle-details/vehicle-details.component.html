@if(this.vehicle) {
    <div class="container">
  <h2>{{ vehicle.model }} Details</h2>
  <mat-tab-group>
    <mat-tab label="Info">
      <div>
        <p><strong>Purchase Price:</strong> {{ vehicle.purchasePrice }}</p>
        @if(vehicle.purchaseDate)
        {
             <p><strong>Purchase Date:</strong> {{ vehicle.purchaseDate }}</p>
        }
      </div>
    </mat-tab>

    <mat-tab label="Faults">
      <button mat-raised-button color="primary" (click)="addFault()">Add Fault</button>
      <mat-list>
        @for(f of faults; track f.id)
        {
            <mat-list-item>
          {{ f.description }}
          <button mat-icon-button color="warn" (click)="deleteFault(f.id)"><mat-icon>delete</mat-icon></button>
        </mat-list-item>
        }
        
      </mat-list>
    </mat-tab>

    <mat-tab label="Rentals">
      @if(rentals.length){
        <table mat-table [dataSource]="rentals" class="mat-elevation-z8" [trackBy]="trackById" [class.full-width-table]="true" [class.mat-table]="true">

        <!-- Customer Column -->
        <ng-container matColumnDef="clientName">
          <th mat-header-cell *matHeaderCellDef> Customer </th>
          <td mat-cell *matCellDef="let rental"> {{ rental.clientName }} ID:[{{rental.clientId}}] </td>
        </ng-container>

        

        <!-- Start Date Column -->
        <ng-container matColumnDef="dateAndTime">
          <th mat-header-cell *matHeaderCellDef> Start Date </th>
          <td mat-cell *matCellDef="let rental"> {{ rental.dateAndTime }} </td>
        </ng-container>

        <!-- Duration Column -->
        <ng-container matColumnDef="duration">
          <th mat-header-cell *matHeaderCellDef> Duration (min) </th>
          <td mat-cell *matCellDef="let rental"> {{ rental.duration }} </td>
        </ng-container>

        <!-- Total Price Column -->
        <ng-container matColumnDef="totalPrice">
          <th mat-header-cell *matHeaderCellDef> Total Price </th>
          <td mat-cell *matCellDef="let rental"> {{ rental.totalPrice }} </td>
        </ng-container>

        <!-- Vehicle Column -->
        <ng-container matColumnDef="vehicleModel">
          <th mat-header-cell *matHeaderCellDef> Vehicle </th>
          <td mat-cell *matCellDef="let rental"> {{ rental.vehicleModel }} (ID:{{rental.vehicleId}}) </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      }
      @else {
        <h3>
          No Rentals found!
        </h3>
      }
      
    </mat-tab>
  </mat-tab-group>
</div>
}
